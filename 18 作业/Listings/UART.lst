C51 COMPILER V9.59.0.0   UART                                                              04/23/2023 09:11:47 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE UART
OBJECT MODULE PLACED IN .\Objects\UART.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE UART.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\UART
                    -.lst) OBJECT(.\Objects\UART.obj)

line level    source

   1          #include <REGX51.H>
   2          
   3          typedef  unsigned char uchar;
   4          
   5          
   6          /**
   7            * @brief  ôڽģʽҲܷ
   8            * @param  
   9            * @retval 
  10            */
  11          void UART_Init(void)      //4800bps@11.0592MHz
  12          {
  13   1                                    //0x500x40REN=1,
  14   1              SCON = 0x50;          //ģʽ1ãλݣɱ䲨ʣͶʱģʽ2λԶװһ
             -
  15   1              PCON |=0x80;          //λһλ䣬ʼӱΪ˼СѾɲӱ
             -
  16   1              //      AUXR &= 0xBF;     //߼ܣͺŵƬû  
  17   1              //      AUXR &= 0xFE;     //12TͶʱ1
  18   1              TMOD &=0x0F;          //λ㣬λ䣬ʱ1
  19   1          TMOD |=0x20;          //ʱ1ģʽλԶװģʽ
  20   1              TL1=0xF4;             //öʱֵ
  21   1              TH1=0xF4;             //趨ʱװֵ
  22   1              ET1=0;                //ֹʱ1жϣֻṩʱܣжû
  23   1              TR1=1;                //ʱ
  24   1              //Ҫݵʱ
  25   1              EA=1;                 //жܿ
  26   1              ES=1;                 //ж
  27   1      }
  28          //ʱ1жϵĴʱ䵽ˣʱʱ1òʣûбҪж
  29          //жϵĴǽݻ߷
  30          
  31          
  32          
  33          /**
  34            * @brief  ɴԷһ
  35            * @param  ַ
  36            * @retval 
  37            */
  38          void UART_SendByte(uchar byte)
  39          {
  40   1              SBUF=byte;                    //SBUFһǷһǽռ䲻һռͬһַ
  41   1              while(TI==0);
  42   1              TI=0;                         //һͣλ
  43   1      }
  44          
  45          
  46           /**
  47            * @brief  жϺģ
  48            * @param  
  49            * @retval 
  50            */
  51          //void UART_Routine()   interrupt 4 //ж϶ӦжϺ
  52          //{
C51 COMPILER V9.59.0.0   UART                                                              04/23/2023 09:11:47 PAGE 2   

  53          //      if(RI==1)                     //ͺͽжռõһͨᴥжϺifжϷֹ
  54          //      {
  55          //              RI=0;                     //ֶλ
  56          //      }
  57          //}
  58          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     35    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)

C51 COMPILER V9.59.0.0   MAIN                                                              04/16/2023 10:46:44 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main
                    -.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <REGX51.H>
   2          #include "nixie.h"
   3          #include "UART.h"
   4          #include "delay.h"
   5          unsigned char Lab,a;
   6          void main ()
   7          {
   8   1              UART_Init();
   9   1          while (1)
  10   1              {
  11   2                      switch(Lab)
  12   2                      {
  13   3                              case 1:nixie(8,1);break;
  14   3                              case 2:nixie(7,2);break;
  15   3                              case 3:nixie(6,3);break;
  16   3                              case 4:nixie(5,4);break;
  17   3                              case 5:nixie(4,5);break;
  18   3                              case 6:nixie(3,6);break;
  19   3                              case 7:nixie(2,7);break;
  20   3                              case 8:nixie(1,8);break;
  21   3                      }
  22   2              }
  23   1      }
  24          
  25          
  26          void UART_Routine()   interrupt 4 //串口中断对应中断号
  27          {
  28   1              if(RI==1)                     //发送和接收中断占用的是一个通道，都会触发中断函数，加if判断防止误触
  29   1              {
  30   2                      RI=0;                     //（手动）软件复位
  31   2                      a=SBUF;
  32   2                      if(a==0x01)Lab=1;
  33   2                      if(a==0x02)Lab=2;
  34   2                      if(a==0x03)Lab=3;
  35   2                      if(a==0x04)Lab=4;
  36   2                      if(a==0x05)Lab=5;
  37   2                      if(a==0x06)Lab=6;
  38   2                      if(a==0x07)Lab=7;
  39   2                      if(a==0x08)Lab=8;
  40   2                      UART_SendByte(a);
  41   2              }
  42   1      }
  43           
  44          
  45          
  46          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    263    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2    ----
C51 COMPILER V9.59.0.0   MAIN                                                              04/16/2023 10:46:44 PAGE 2   

   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)

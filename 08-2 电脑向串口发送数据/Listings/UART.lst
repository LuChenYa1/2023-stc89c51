C51 COMPILER V9.59.0.0   UART                                                              03/28/2023 20:46:48 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE UART
OBJECT MODULE PLACED IN .\Objects\UART.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE UART.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\UART
                    -.lst) OBJECT(.\Objects\UART.obj)

line level    source

   1          #include <REGX51.H>
   2          
   3          typedef  unsigned char uchar;
   4          /**
   5            * @brief  ôڽģʽҲܷ
   6            * @param  
   7            * @retval 
   8            */
   9          void UART_Init(void)      //4800bps@11.0592MHz
  10          {
  11   1                                    //0x500x40REN=1,
  12   1              SCON = 0x50;          //ģʽ1ãλݣɱ䲨ʣͶʱģʽ2λԶװһ
             -
  13   1              PCON |=0x80;          //λһλ䣬ʼӱΪ˼СѾɲӱ
             -
  14   1              //      AUXR &= 0xBF;     //߼ܣͺŵƬû  
  15   1              //      AUXR &= 0xFE;     //12TͶʱ1
  16   1              TMOD &=0x0F;          //λ㣬λ䣬ʱ1
  17   1          TMOD |=0x20;          //ʱ1ģʽλԶװģʽ
  18   1              TL1=0xF4;             //öʱֵ
  19   1              TH1=0xF4;             //趨ʱװֵ
  20   1              ET1=0;                //ֹʱ1жϣֻṩʱܣжû
  21   1              TR1=1;                //ʱ
  22   1              //Ҫݵʱ
  23   1              EA=1;                 //жܿ
  24   1              ES=1;                 //ж
  25   1      }
  26          //ʱ1жϵĴʱ䵽ˣʱʱ1òʣûбҪж
  27          //жϵĴǽݻ߷
  28          
  29          /**
  30            * @brief  ɴԷһ
  31            * @param  ַ
  32            * @retval 
  33            */
  34          void UART_SendByte(uchar byte)
  35          {
  36   1              SBUF=byte;                    //SBUFһǷһǽռ䲻һռͬһַ
  37   1              while(TI==0);
  38   1              TI=0;                         //һͣλ
  39   1      }
  40           /**
  41            * @brief  жϺģ
  42            * @param  
  43            * @retval 
  44            */
  45          //void UART_Routine()   interrupt 4 //ж϶ӦжϺ
  46          //{
  47          //      if(RI==1)                     //ͺͽжռõһͨᴥжϺifжϷֹ
  48          //      {
  49          //              RI=0;                     //ֶλ
  50          //      }
  51          //}
  52          
C51 COMPILER V9.59.0.0   UART                                                              03/28/2023 20:46:48 PAGE 2   



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     35    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)

C51 COMPILER V9.59.0.0   MAIN                                                              04/01/2023 16:07:31 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main
                    -.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <REGX51.H>
   2          #include "MatrixLED.h"
   3          
   4          uchar a;
   5          uchar offset;    //偏移量
   6          uchar count;     //for循环计数
   7          void main ()
   8          {
   9   1              void MatrixLED_Init();
  10   1              //code 将一段常用、占用字节多、一般不改变的数据存入flash
  11   1              //存入后无法更改，因其已为常量
  12   1              uchar code smile[48]={0x3C,0x42,0xA9,0x85,0x85,0xA9,0x42,0x3C,
  13   1                                                        0x3C,0x42,0xA9,0x85,0x85,0xA9,0x42,0x3C,
  14   1                                                        0x3C,0x42,0xA5,0x85,0x85,0xA5,0x42,0x3C,
  15   1                                                        0x3C,0x42,0xA5,0x85,0x85,0xA5,0x42,0x3C,
  16   1                                                        0x3C,0x42,0xA5,0x89,0x89,0xA5,0x42,0x3C,
  17   1                                                        0x3C,0x42,0xA5,0x89,0x89,0xA5,0x42,0x3C};
  18   1       
  19   1              uchar code Hello[32]={0x00,0xFF,0x08,0x08,0x08,0xFF,0x00,0x0E,
  20   1                                                       0x15,0x15,0x15,0x0A,0x00,0xFE,0x01,0x01,
  21   1                                                       0x02,0x00,0xFE,0x01,0x01,0x02,0x00,0x1E,
  22   1                                                       0x21,0x21,0x1E,0x00,0x00,0x00,0x00,0x00};
  23   1          //文字取模，显示Hello，纵向取模，按列取数据
  24   1              uchar code zxf[64]={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  25   1                                                      0x10,0x20,0x54,0xFF,0x55,0x56,0x00,0x1C,
  26   1                                                      0x14,0xFF,0x14,0x1C,0x00,0x00,0x08,0x10,
  27   1                                                      0x24,0x02,0x01,0xFF,0x00,0x20,0x10,0x08,
  28   1                                                      0x00,0x21,0x22,0x24,0xA8,0x7A,0x29,0x2A,
  29   1                                                      0x2C,0x20,0x00,0x43,0x45,0x49,0x51,0x61,
  30   1                                                      0x00,0x41,0x22,0x14,0x08,0x14,0x22,0x41,
  31   1                                                      0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};
  32   1              //前面加0，后面也加0，目的是让数据衔接流畅不突兀
  33   1              while (1)
  34   1              {
  35   2                      for(a=0;a<8;a++)
  36   2                      {
  37   3                              MatrixLED_ShowColumn(a,smile[a+offset]);
  38   3                      }
  39   2                      count++;
  40   2                      if(count==10)
  41   2                      {
  42   3                              count=0;
  43   3                              offset+=8;
  44   3                              if(offset==40)     //不是64，初始时屏幕就占了八位，应该减去八
  45   3                              {
  46   4                                      offset=0;
  47   4                              }
  48   3                      }
  49   2              }
  50   1      }
*** WARNING C280 IN LINE 19 OF main.c: 'Hello': unreferenced local variable
*** WARNING C280 IN LINE 24 OF main.c: 'zxf': unreferenced local variable
  51          

C51 COMPILER V9.59.0.0   MAIN                                                              04/01/2023 16:07:31 PAGE 2   


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     58    ----
   CONSTANT SIZE    =    144    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      5    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  2 WARNING(S),  0 ERROR(S)
